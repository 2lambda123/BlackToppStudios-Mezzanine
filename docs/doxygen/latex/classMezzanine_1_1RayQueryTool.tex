\hypertarget{classMezzanine_1_1RayQueryTool}{
\subsection{Mezzanine::RayQueryTool Class Reference}
\label{classMezzanine_1_1RayQueryTool}\index{Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}}
}


This provides a number of optional tools for working with a \hyperlink{classMezzanine_1_1World}{Mezzanine::World}.  




{\ttfamily \#include $<$rayquerytool.h$>$}

\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMezzanine_1_1RayQueryTool_a53bc1773227eee1543e3a61f96395756}{RayQueryTool} ()
\begin{DoxyCompactList}\small\item\em Basic Constructor. \item\end{DoxyCompactList}\item 
\hyperlink{classMezzanine_1_1RayQueryTool_a086d26c2ccb830dca62bffb50f0bd470}{$\sim$RayQueryTool} ()
\begin{DoxyCompactList}\small\item\em Destructor. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classMezzanine_1_1Vector3WActor}{Vector3WActor} $\ast$ \hyperlink{classMezzanine_1_1RayQueryTool_adddae3c56c5eba8af77e8d72e5c751bd}{GetActorUnderMouse} (\hyperlink{namespaceMezzanine_adcbb6ce6d1eb4379d109e51171e2e493}{Whole} ObjectFlags, \hyperlink{namespaceMezzanine_a726731b1a7df72bf3583e4a97282c6f6}{Real} RayLength=1000.0, bool UsePolygon=true)
\begin{DoxyCompactList}\small\item\em This will find the actor under the mouse. \item\end{DoxyCompactList}\item 
static \hyperlink{classMezzanine_1_1Vector3WActor}{Vector3WActor} $\ast$ \hyperlink{classMezzanine_1_1RayQueryTool_a9ded1647755a523d3dbda297a0e73eba}{GetFirstActorOnRayByAABB} (\hyperlink{classMezzanine_1_1Ray}{Ray} ActorRay, \hyperlink{namespaceMezzanine_adcbb6ce6d1eb4379d109e51171e2e493}{Whole} ObjectFlags)
\begin{DoxyCompactList}\small\item\em Partially implemented. This should find the first Actor that is on or almost on the a given \hyperlink{classMezzanine_1_1Ray}{Ray}. \item\end{DoxyCompactList}\item 
static \hyperlink{classMezzanine_1_1Vector3WActor}{Vector3WActor} $\ast$ \hyperlink{classMezzanine_1_1RayQueryTool_af1224419c58901fc57fcef2d236a8298}{GetFirstActorOnRayByPolygon} (\hyperlink{classMezzanine_1_1Ray}{Ray} ActorRay, \hyperlink{namespaceMezzanine_adcbb6ce6d1eb4379d109e51171e2e493}{Whole} ObjectFlags)
\begin{DoxyCompactList}\small\item\em This will find the first Actor to intesect the Given ray. \item\end{DoxyCompactList}\item 
static \hyperlink{classMezzanine_1_1Ray}{Ray} $\ast$ \hyperlink{classMezzanine_1_1RayQueryTool_ac1c1996e97e3c0ab739b112907ba6790}{GetMouseRay} (\hyperlink{namespaceMezzanine_a726731b1a7df72bf3583e4a97282c6f6}{Real} Length=1000)
\begin{DoxyCompactList}\small\item\em Get a \hyperlink{classMezzanine_1_1Ray}{Ray} from the current viewport, following the mouse. \item\end{DoxyCompactList}\item 
static \hyperlink{classMezzanine_1_1Vector3}{Vector3} $\ast$ \hyperlink{classMezzanine_1_1RayQueryTool_abc005fb351fc1a15b7619db76788ef35}{RayPlaneIntersection} (const \hyperlink{classMezzanine_1_1Ray}{Ray} \&QueryRay, const \hyperlink{classMezzanine_1_1Plane}{Plane} \&QueryPlane)
\begin{DoxyCompactList}\small\item\em Where does this \hyperlink{classMezzanine_1_1Ray}{Ray} Meet this \hyperlink{classMezzanine_1_1Plane}{Plane}? \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
This provides a number of optional tools for working with a \hyperlink{classMezzanine_1_1World}{Mezzanine::World}. Currently this allows for more seamless mouse use, including 'picking' of objects with the mouse, and associated functionality. 

Definition at line 68 of file rayquerytool.h.



\subsubsection{Constructor \& Destructor Documentation}
\hypertarget{classMezzanine_1_1RayQueryTool_a53bc1773227eee1543e3a61f96395756}{
\index{Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}!RayQueryTool@{RayQueryTool}}
\index{RayQueryTool@{RayQueryTool}!Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}}
\paragraph[{RayQueryTool}]{\setlength{\rightskip}{0pt plus 5cm}Mezzanine::RayQueryTool::RayQueryTool (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hfill}
\label{classMezzanine_1_1RayQueryTool_a53bc1773227eee1543e3a61f96395756}


Basic Constructor. 

This creates a WorldQueryTool Ready to run queries on the the world you pass it. 

Definition at line 70 of file rayquerytool.cpp.

\hypertarget{classMezzanine_1_1RayQueryTool_a086d26c2ccb830dca62bffb50f0bd470}{
\index{Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}!$\sim$RayQueryTool@{$\sim$RayQueryTool}}
\index{$\sim$RayQueryTool@{$\sim$RayQueryTool}!Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}}
\paragraph[{$\sim$RayQueryTool}]{\setlength{\rightskip}{0pt plus 5cm}Mezzanine::RayQueryTool::$\sim$RayQueryTool (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hfill}
\label{classMezzanine_1_1RayQueryTool_a086d26c2ccb830dca62bffb50f0bd470}


Destructor. 

Deletes everything in the world query tool. 

Definition at line 74 of file rayquerytool.cpp.



\subsubsection{Member Function Documentation}
\hypertarget{classMezzanine_1_1RayQueryTool_adddae3c56c5eba8af77e8d72e5c751bd}{
\index{Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}!GetActorUnderMouse@{GetActorUnderMouse}}
\index{GetActorUnderMouse@{GetActorUnderMouse}!Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}}
\paragraph[{GetActorUnderMouse}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Vector3WActor} $\ast$ Mezzanine::RayQueryTool::GetActorUnderMouse (
\begin{DoxyParamCaption}
\item[{{\bf Whole}}]{ObjectFlags, }
\item[{{\bf Real}}]{RayLength = {\ttfamily 1000.0}, }
\item[{bool}]{UsePolygon = {\ttfamily true}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}\hfill}
\label{classMezzanine_1_1RayQueryTool_adddae3c56c5eba8af77e8d72e5c751bd}


This will find the actor under the mouse. 

This will use 
\begin{DoxyParams}{Parameters}
{\em ObjectFlags} & A whole comprising all the valid objects to be checked in the scene. See WorldObjectType in \hyperlink{enumerations_8h_source}{enumerations.h} for a listing of objects to use as flags. \\
\hline
{\em RayLength} & The length of the ray to cast from te mouse to search for actors. This defaults to 1000.0. \\
\hline
{\em UsePolygon} & If true this will use GetFirstActorOnRayByPolygon, otherwise this will use GetFirstActorOnRayByAABB. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This returns a \hyperlink{classMezzanine_1_1Vector3WActor}{Vector3WActor} which has a pointer to the actor under the mouse, and a vector representing the distance of the mouse fromt the center of mass. 
\end{DoxyReturn}


Definition at line 214 of file rayquerytool.cpp.

\hypertarget{classMezzanine_1_1RayQueryTool_a9ded1647755a523d3dbda297a0e73eba}{
\index{Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}!GetFirstActorOnRayByAABB@{GetFirstActorOnRayByAABB}}
\index{GetFirstActorOnRayByAABB@{GetFirstActorOnRayByAABB}!Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}}
\paragraph[{GetFirstActorOnRayByAABB}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Vector3WActor} $\ast$ Mezzanine::RayQueryTool::GetFirstActorOnRayByAABB (
\begin{DoxyParamCaption}
\item[{{\bf Ray}}]{ActorRay, }
\item[{{\bf Whole}}]{ObjectFlags}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}\hfill}
\label{classMezzanine_1_1RayQueryTool_a9ded1647755a523d3dbda297a0e73eba}


Partially implemented. This should find the first Actor that is on or almost on the a given \hyperlink{classMezzanine_1_1Ray}{Ray}. 

This casts a ray through the gameworld. The first actor with an Axis Aligned Bounding Box that intersects that ray is returned. Presently this is untested and does not return the Offset of the intersection. This should perform faster than WorldQueryTool::GetFirstActorOnRayByPolygon but not by a known amount. 
\begin{DoxyParams}{Parameters}
{\em ActorRay} & The \hyperlink{classMezzanine_1_1Ray}{Ray} to search along. \\
\hline
{\em ObjectFlags} & A whole comprising all the valid objects to be checked in the scene. See WorldObjectType in \hyperlink{enumerations_8h_source}{enumerations.h} for a listing of objects to use as flags. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This returns a pointer to an actorbase, which is the first actor to have an Axis-\/Aligned Bounding Box along the ray. 
\end{DoxyReturn}


\begin{Desc}
\item[\hyperlink{todo__todo000021}{Todo}]TODO: The function WorldQueryTool::GetFirstActorOnRayByAABB does not return an valid offset. This needs to be calculated somehow. \end{Desc}
\begin{Desc}
\item[\hyperlink{todo__todo000022}{Todo}]TODO: The function WorldQueryTool::GetFirstActorOnRayByAABB has not been tested and needs to be tested \end{Desc}
\begin{Desc}
\item[\hyperlink{todo__todo000023}{Todo}]TODO: The function WorldQueryTool::GetFirstActorOnRayByAABB does not take other obstructions into account \end{Desc}




Definition at line 178 of file rayquerytool.cpp.

\hypertarget{classMezzanine_1_1RayQueryTool_af1224419c58901fc57fcef2d236a8298}{
\index{Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}!GetFirstActorOnRayByPolygon@{GetFirstActorOnRayByPolygon}}
\index{GetFirstActorOnRayByPolygon@{GetFirstActorOnRayByPolygon}!Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}}
\paragraph[{GetFirstActorOnRayByPolygon}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Vector3WActor} $\ast$ Mezzanine::RayQueryTool::GetFirstActorOnRayByPolygon (
\begin{DoxyParamCaption}
\item[{{\bf Ray}}]{ActorRay, }
\item[{{\bf Whole}}]{ObjectFlags}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}\hfill}
\label{classMezzanine_1_1RayQueryTool_af1224419c58901fc57fcef2d236a8298}


This will find the first Actor to intesect the Given ray. 

This use the graphics subsystem to cast a ray in the world. If the ray passes through any the triangles in an actor This will return that actor. This function runs in linear time relative to the amount of triangles in 3d meshes near the the ray being cast. This will start at ray.from and go to ray.to . 
\begin{DoxyParams}{Parameters}
{\em ActorRay} & The \hyperlink{classMezzanine_1_1Ray}{Ray} to search along. \\
\hline
{\em ObjectFlags} & A whole comprising all the valid objects to be checked in the scene. See WorldObjectType in \hyperlink{enumerations_8h_source}{enumerations.h} for a listing of objects to use as flags. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This returns a pointer to an \hyperlink{classMezzanine_1_1Vector3WActor}{Vector3WActor}, which contains the first actor along the ray and the point of intersection Relative to the actor 
\end{DoxyReturn}


Definition at line 80 of file rayquerytool.cpp.

\hypertarget{classMezzanine_1_1RayQueryTool_ac1c1996e97e3c0ab739b112907ba6790}{
\index{Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}!GetMouseRay@{GetMouseRay}}
\index{GetMouseRay@{GetMouseRay}!Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}}
\paragraph[{GetMouseRay}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ray} $\ast$ Mezzanine::RayQueryTool::GetMouseRay (
\begin{DoxyParamCaption}
\item[{{\bf Real}}]{Length = {\ttfamily 1000}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}\hfill}
\label{classMezzanine_1_1RayQueryTool_ac1c1996e97e3c0ab739b112907ba6790}


Get a \hyperlink{classMezzanine_1_1Ray}{Ray} from the current viewport, following the mouse. 

This calls on the graphics subsystem to get a ray from the location of the current camera 
\begin{DoxyParams}{Parameters}
{\em Length} & how long of a ray do you want? Thsi defaults to 1000 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This returns a ray that matches originates at the camera and goes out in 3d space behind the mouse pointer. 
\end{DoxyReturn}


Definition at line 332 of file rayquerytool.cpp.

\hypertarget{classMezzanine_1_1RayQueryTool_abc005fb351fc1a15b7619db76788ef35}{
\index{Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}!RayPlaneIntersection@{RayPlaneIntersection}}
\index{RayPlaneIntersection@{RayPlaneIntersection}!Mezzanine::RayQueryTool@{Mezzanine::RayQueryTool}}
\paragraph[{RayPlaneIntersection}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Vector3} $\ast$ Mezzanine::RayQueryTool::RayPlaneIntersection (
\begin{DoxyParamCaption}
\item[{const {\bf Ray} \&}]{QueryRay, }
\item[{const {\bf Plane} \&}]{QueryPlane}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}\hfill}
\label{classMezzanine_1_1RayQueryTool_abc005fb351fc1a15b7619db76788ef35}


Where does this \hyperlink{classMezzanine_1_1Ray}{Ray} Meet this \hyperlink{classMezzanine_1_1Plane}{Plane}? 

This does some fancy math to return the point where the ray and the plane intersent. This returns a NULL pointer in the event the ray and plane do not meet, or are completely coterminous. 
\begin{DoxyParams}{Parameters}
{\em QueryRay} & This is the \hyperlink{classMezzanine_1_1Ray}{Ray} that could intersent the plane \\
\hline
{\em QueryPlane} & This is the plane to be interesected. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This returns a pointer to a vector that matches where the intersection of the plane and \hyperlink{classMezzanine_1_1Ray}{Ray}, if possible 
\end{DoxyReturn}


Definition at line 232 of file rayquerytool.cpp.



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
rayquerytool.h\item 
rayquerytool.cpp\end{DoxyCompactItemize}

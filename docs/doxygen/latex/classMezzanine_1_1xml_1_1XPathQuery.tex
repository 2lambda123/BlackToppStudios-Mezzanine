\hypertarget{classMezzanine_1_1xml_1_1XPathQuery}{
\subsection{Mezzanine::xml::XPathQuery Class Reference}
\label{classMezzanine_1_1xml_1_1XPathQuery}\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
}


A compiled XPath query object.  




{\ttfamily \#include $<$xmldoc.h$>$}

\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a12689a4ab5abd7df0a6fcb5e25971406}{XPathQuery} (const \hyperlink{namespaceMezzanine_1_1xml_a29b8a47c179e9895c4e9e66c45d1dbbc}{char\_\-t} $\ast$query, \hyperlink{classMezzanine_1_1xml_1_1XPathVariableSet}{XPathVariableSet} $\ast$variables=0)
\begin{DoxyCompactList}\small\item\em Construct a compiled object from XPath expression. \item\end{DoxyCompactList}\item 
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_ad56bb06e8a78275f346756c8db7011d4}{
\hyperlink{classMezzanine_1_1xml_1_1XPathQuery_ad56bb06e8a78275f346756c8db7011d4}{$\sim$XPathQuery} ()}
\label{classMezzanine_1_1xml_1_1XPathQuery_ad56bb06e8a78275f346756c8db7011d4}

\begin{DoxyCompactList}\small\item\em Destructor. \item\end{DoxyCompactList}\item 
bool \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a3bcbef02da73108550e940ee3de50267}{EvaluateBoolean} (const \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} \&n) const 
\begin{DoxyCompactList}\small\item\em Evaluate expression as boolean value in the specified context; performs Type conversion if necessary. \item\end{DoxyCompactList}\item 
\hyperlink{classMezzanine_1_1xml_1_1XPathNodeSet}{XPathNodeSet} \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a72f528bd04dce854e13e5b0c593b8980}{EvaluateNodeSet} (const \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} \&n) const 
\begin{DoxyCompactList}\small\item\em Evaluate expression as node set in the specified context. \item\end{DoxyCompactList}\item 
double \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a716de15af35a38cb5a4a661ab25b852f}{EvaluateNumber} (const \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} \&n) const 
\begin{DoxyCompactList}\small\item\em Evaluate expression as double value in the specified context; performs Type conversion if necessary. \item\end{DoxyCompactList}\item 
size\_\-t \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a58a1c02f20e24c543b2c820ef8bd038a}{EvaluateString} (\hyperlink{namespaceMezzanine_1_1xml_a29b8a47c179e9895c4e9e66c45d1dbbc}{char\_\-t} $\ast$buffer, size\_\-t capacity, const \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} \&n) const 
\begin{DoxyCompactList}\small\item\em Evaluate expression as string value in the specified context; performs Type conversion if necessary. \item\end{DoxyCompactList}\item 
\hyperlink{namespaceMezzanine_1_1xml_a3ddf35656ecc38b6fa1d0364d9ad3b2c}{String} \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a373271959b00d96b08a846b2e56607c3}{EvaluateString} (const \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} \&n) const 
\begin{DoxyCompactList}\small\item\em Evaluate expression as string value in the specified context; performs Type conversion if necessary. \item\end{DoxyCompactList}\item 
\hyperlink{classMezzanine_1_1xml_1_1XPathQuery_aafde02d273f66f6b2215517b8f4d83d9}{operator unspecified\_\-bool\_\-type} () const 
\begin{DoxyCompactList}\small\item\em Used to convert this to a boolean value in a safe way. \item\end{DoxyCompactList}\item 
bool \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_abc288442d293f02b710038e8772e3c4a}{operator!} () const 
\begin{DoxyCompactList}\small\item\em Logical not operator, used a workaround for borland compiler. \item\end{DoxyCompactList}\item 
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_a305514c768db9e05813f600d53c3ea0a}{
const \hyperlink{structMezzanine_1_1xml_1_1XPathParseResult}{XPathParseResult} \& \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a305514c768db9e05813f600d53c3ea0a}{Result} () const }
\label{classMezzanine_1_1xml_1_1XPathQuery_a305514c768db9e05813f600d53c3ea0a}

\begin{DoxyCompactList}\small\item\em Get parsing Result (used to get compilation errors when XML\_\-NO\_\-EXCEPTIONS is enabled) \item\end{DoxyCompactList}\item 
\hyperlink{namespaceMezzanine_1_1xml_aca3f7ad3597c316e5ee6c216e126e7b0}{XPathValueType} \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_ab48ebdf3fb2fd1487d5fc8778b1407e2}{ReturnType} () const 
\begin{DoxyCompactList}\small\item\em Get query expression return Type. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
A compiled XPath query object. \begin{DoxyReturn}{Returns}
A pointer to the specified \hyperlink{classMezzanine_1_1xml_1_1XPathVariable}{XPathVariable}.
\end{DoxyReturn}
When you call select\_\-nodes with an expression string as an argument, a query object is created behind the scenes. A query object represents a compiled XPath expression. Query objects can be needed in the following circumstances: \par

\begin{DoxyItemize}
\item You can precompile expressions to query objects to save compilation time if it becomes an issue; \par

\item You can use query objects to evaluate XPath expressions which result in booleans, numbers or strings; \par

\item You can get the type of expression value via query object. \par
 \par
 Query objects correspond to \hyperlink{classMezzanine_1_1xml_1_1XPathQuery}{xml::XPathQuery} type. They are immutable and non-\/copyable: they are bound to the expression at creation time and can not be cloned. If you want to put query objects in a container, allocate them on heap via new operator and store pointers to \hyperlink{classMezzanine_1_1xml_1_1XPathQuery}{xml::XPathQuery} in the container. \par
 \par
 To evaluate an XPath expression there are a few EvaluatedType functions. According to XPath specification, value of any type can be converted to boolean, number or string value, but no type other than node set can be converted to node set. Because of this, \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a3bcbef02da73108550e940ee3de50267}{XPathQuery::EvaluateBoolean()}, \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a716de15af35a38cb5a4a661ab25b852f}{XPathQuery::EvaluateNumber()} and \hyperlink{classMezzanine_1_1xml_1_1XPathQuery_a373271959b00d96b08a846b2e56607c3}{XPathQuery::EvaluateString()} always return a result, but EvaluateNodeSet results in an error if the return type is not node set. 
\end{DoxyItemize}

Definition at line 1299 of file xml.h.



\subsubsection{Constructor \& Destructor Documentation}
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_a12689a4ab5abd7df0a6fcb5e25971406}{
\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}!XPathQuery@{XPathQuery}}
\index{XPathQuery@{XPathQuery}!Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
\paragraph[{XPathQuery}]{\setlength{\rightskip}{0pt plus 5cm}Mezzanine::xml::XPathQuery::XPathQuery (
\begin{DoxyParamCaption}
\item[{const {\bf char\_\-t} $\ast$}]{query, }
\item[{{\bf XPathVariableSet} $\ast$}]{variables = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}explicit\mbox{]}}}\hfill}
\label{classMezzanine_1_1xml_1_1XPathQuery_a12689a4ab5abd7df0a6fcb5e25971406}


Construct a compiled object from XPath expression. 


\begin{DoxyParams}{Parameters}
{\em query} & The query in the form of a c-\/string style char\_\-t array. \\
\hline
{\em variables} & Any extra data the query might need, passing a null pointer simply omits passing any arguments. \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em If} & XML\_\-NO\_\-EXCEPTIONS is not defined (which is the default), throws \hyperlink{classMezzanine_1_1xml_1_1XPathException}{XPathException} on compilation errors. \\
\hline
\end{DoxyExceptions}


\subsubsection{Member Function Documentation}
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_a3bcbef02da73108550e940ee3de50267}{
\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}!EvaluateBoolean@{EvaluateBoolean}}
\index{EvaluateBoolean@{EvaluateBoolean}!Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
\paragraph[{EvaluateBoolean}]{\setlength{\rightskip}{0pt plus 5cm}Mezzanine::xml::XPathQuery::EvaluateBoolean (
\begin{DoxyParamCaption}
\item[{const {\bf XPathNode} \&}]{n}
\end{DoxyParamCaption}
) const}\hfill}
\label{classMezzanine_1_1xml_1_1XPathQuery_a3bcbef02da73108550e940ee3de50267}


Evaluate expression as boolean value in the specified context; performs Type conversion if necessary. 

\begin{DoxyReturn}{Returns}
A bool result of evaluating the expression. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em If} & XML\_\-NO\_\-EXCEPTIONS is not defined (by default it is not defined), throws std::bad\_\-alloc on out of memory errors. \\
\hline
\end{DoxyExceptions}

\begin{DoxyParams}{Parameters}
{\em n} & The \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} that will serve as the context for the query. \\
\hline
\end{DoxyParams}
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_a72f528bd04dce854e13e5b0c593b8980}{
\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}!EvaluateNodeSet@{EvaluateNodeSet}}
\index{EvaluateNodeSet@{EvaluateNodeSet}!Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
\paragraph[{EvaluateNodeSet}]{\setlength{\rightskip}{0pt plus 5cm}{\bf XPathNodeSet} Mezzanine::xml::XPathQuery::EvaluateNodeSet (
\begin{DoxyParamCaption}
\item[{const {\bf XPathNode} \&}]{n}
\end{DoxyParamCaption}
) const}\hfill}
\label{classMezzanine_1_1xml_1_1XPathQuery_a72f528bd04dce854e13e5b0c593b8980}


Evaluate expression as node set in the specified context. 


\begin{DoxyParams}{Parameters}
{\em n} & The \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} that with serve as the context for the query. \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em If} & XML\_\-NO\_\-EXCEPTIONS is not defined (by default it is not defined), throws throws \hyperlink{classMezzanine_1_1xml_1_1XPathException}{XPathException} on Type mismatch and std::bad\_\-alloc on out of memory errors. If XML\_\-NO\_\-EXCEPTIONS is defined, returns empty node set instead. \\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
An \hyperlink{classMezzanine_1_1xml_1_1XPathNodeSet}{XPathNodeSet}. 
\end{DoxyReturn}
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_a716de15af35a38cb5a4a661ab25b852f}{
\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}!EvaluateNumber@{EvaluateNumber}}
\index{EvaluateNumber@{EvaluateNumber}!Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
\paragraph[{EvaluateNumber}]{\setlength{\rightskip}{0pt plus 5cm}double Mezzanine::xml::XPathQuery::EvaluateNumber (
\begin{DoxyParamCaption}
\item[{const {\bf XPathNode} \&}]{n}
\end{DoxyParamCaption}
) const}\hfill}
\label{classMezzanine_1_1xml_1_1XPathQuery_a716de15af35a38cb5a4a661ab25b852f}


Evaluate expression as double value in the specified context; performs Type conversion if necessary. 


\begin{DoxyParams}{Parameters}
{\em n} & The \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} that will serve as the context for the query. \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em If} & XML\_\-NO\_\-EXCEPTIONS is not defined (by default it is not defined), throws std::bad\_\-alloc on out of memory errors. \\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
A result as a double from evaluating the expression. 
\end{DoxyReturn}
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_a373271959b00d96b08a846b2e56607c3}{
\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}!EvaluateString@{EvaluateString}}
\index{EvaluateString@{EvaluateString}!Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
\paragraph[{EvaluateString}]{\setlength{\rightskip}{0pt plus 5cm}{\bf String} Mezzanine::xml::XPathQuery::EvaluateString (
\begin{DoxyParamCaption}
\item[{const {\bf XPathNode} \&}]{n}
\end{DoxyParamCaption}
) const}\hfill}
\label{classMezzanine_1_1xml_1_1XPathQuery_a373271959b00d96b08a846b2e56607c3}


Evaluate expression as string value in the specified context; performs Type conversion if necessary. 


\begin{DoxyParams}{Parameters}
{\em n} & The \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} that will serve as the context for the query. \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em If} & XML\_\-NO\_\-EXCEPTIONS is not defined (by default it is not defined), throws std::bad\_\-alloc on out of memory errors. \\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
A result as a String from evaluating the expression. 
\end{DoxyReturn}
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_a58a1c02f20e24c543b2c820ef8bd038a}{
\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}!EvaluateString@{EvaluateString}}
\index{EvaluateString@{EvaluateString}!Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
\paragraph[{EvaluateString}]{\setlength{\rightskip}{0pt plus 5cm}size\_\-t Mezzanine::xml::XPathQuery::EvaluateString (
\begin{DoxyParamCaption}
\item[{{\bf char\_\-t} $\ast$}]{buffer, }
\item[{size\_\-t}]{capacity, }
\item[{const {\bf XPathNode} \&}]{n}
\end{DoxyParamCaption}
) const}\hfill}
\label{classMezzanine_1_1xml_1_1XPathQuery_a58a1c02f20e24c543b2c820ef8bd038a}


Evaluate expression as string value in the specified context; performs Type conversion if necessary. 


\begin{DoxyParams}{Parameters}
{\em buffer} & The place to store the c-\/style Character array \\
\hline
{\em capacity} & At most capacity characters are written to the destination buffer. \\
\hline
{\em n} & The \hyperlink{classMezzanine_1_1xml_1_1XPathNode}{XPathNode} that with serve as the context for the query. \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em If} & XML\_\-NO\_\-EXCEPTIONS is not defined (by default it is not defined), throws std::bad\_\-alloc on out of memory errors. If XML\_\-NO\_\-EXCEPTIONS is defined, this returns empty set instead. \\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
Full result size is returned (includes terminating zero). 
\end{DoxyReturn}
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_aafde02d273f66f6b2215517b8f4d83d9}{
\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}!operator unspecified\_\-bool\_\-type@{operator unspecified\_\-bool\_\-type}}
\index{operator unspecified\_\-bool\_\-type@{operator unspecified\_\-bool\_\-type}!Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
\paragraph[{operator unspecified\_\-bool\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}Mezzanine::xml::XPathQuery::operator unspecified\_\-bool\_\-type (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hfill}
\label{classMezzanine_1_1xml_1_1XPathQuery_aafde02d273f66f6b2215517b8f4d83d9}


Used to convert this to a boolean value in a safe way. 

\begin{DoxyReturn}{Returns}
Returns true if the internal data is set and false otherwise. 
\end{DoxyReturn}
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_abc288442d293f02b710038e8772e3c4a}{
\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}!operator!@{operator!}}
\index{operator!@{operator!}!Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
\paragraph[{operator!}]{\setlength{\rightskip}{0pt plus 5cm}Mezzanine::xml::XPathQuery::operator! (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hfill}
\label{classMezzanine_1_1xml_1_1XPathQuery_abc288442d293f02b710038e8772e3c4a}


Logical not operator, used a workaround for borland compiler. 

\begin{DoxyReturn}{Returns}
A const reference to an \hyperlink{structMezzanine_1_1xml_1_1XPathParseResult}{XPathParseResult}. 

A bool that is the opposite of evaluatig this as a bool normally. 
\end{DoxyReturn}
\hypertarget{classMezzanine_1_1xml_1_1XPathQuery_ab48ebdf3fb2fd1487d5fc8778b1407e2}{
\index{Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}!ReturnType@{ReturnType}}
\index{ReturnType@{ReturnType}!Mezzanine::xml::XPathQuery@{Mezzanine::xml::XPathQuery}}
\paragraph[{ReturnType}]{\setlength{\rightskip}{0pt plus 5cm}Mezzanine::xml::XPathQuery::ReturnType (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hfill}
\label{classMezzanine_1_1xml_1_1XPathQuery_ab48ebdf3fb2fd1487d5fc8778b1407e2}


Get query expression return Type. 

\begin{DoxyReturn}{Returns}
A XPathValueType. 
\end{DoxyReturn}


The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
\hyperlink{xml_8h}{xml.h}\item 
\hyperlink{xmldoc_8h}{xmldoc.h}\end{DoxyCompactItemize}

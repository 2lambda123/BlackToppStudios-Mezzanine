<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>$title</title>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="DoxyStyle.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script> 
</head>
<body onload='searchBox.OnSelectItem(0);'>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;" nowrap="nowrap">
   <div id="projectname"><a href="http://blacktoppstudios.com"><img src="logogreen100pxtall.png"/></a>MezzanineEngine&#160;<span id="projectnumber"></span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="contents">
<div class="textblock"><p>Many scripting languages suitable for being embedded in games have a number of similar traits. All have some kind of runtime that must be initialized, this runtime accepts strings of script source and performs the steps the source desribe. Some keep internal track of the source, others expect the the caller to do so. Most allow passing arguments into scripts and accepting return values. Some allow the script to be compiled to a bytecode and others do not. A scripting manager is a generic interface to this functionality and is expected to be the primary interface for game developers who want to use a given scripting language. <br/>
 <br/>
 Almost every language makes a point of interoperating with C. Some provide a special Application Prorammer Interface (API - intended for mostly programmers use) for C to call on like Ruby, Lua and AngelScript. Some take advantage of the reliable and unchanging C Application Binary Interface (ABI - primarily for direct executable to executable integration), such as Java, C#, Ruby when using FFI. <br/>
 <br/>
 In addition to these kinds of complexities, there are different reasons to use a scripting language. The uses cases fall on a spectrum of "Writing a game in
a Scripting language with just performance sensitive pieces in C/C++" to the other extreme of "The bulk of the code in C/C++ with the ability to run
scripts for flexibilty". The are reasons for both of these use cases and they do not meaningfully conflict. Presumably any extra code written in the more performant C and C++ will benefit all, with the primary reason to not do so being time and technical skill required to do it. If something is already written this way, then why not take advantage of it. <br/>
 <br/>
 The Interface of the scripting system was an attempt to allow enough flexibility to accomodate most scripting and managed languages, for the purpose of this discussion I mean any language with its own bytecode. <br/>
 <br/>
</p>
<p>The scripting system is included the <a class="el" href="namespaceMezzanine_1_1Scripting.html" title="This namespace is for all the classes belonging to the Scripting Subsystem. ">Mezzanine::Scripting</a> namespace. It is primarily composed of four interface classes, four abstract classes. An implementation of a scripting system should implement these four classes in a sub-namespace:</p>
<ul>
<li><a class="el" href="classMezzanine_1_1Scripting_1_1iScript.html" title="The interface for a script. ">Mezzanine::Scripting::iScript</a></li>
<li><a class="el" href="classMezzanine_1_1Scripting_1_1iScriptArgument.html" title="The interface for a script argument. ">Mezzanine::Scripting::iScriptArgument</a></li>
<li><a class="el" href="classMezzanine_1_1Scripting_1_1iScriptingManager.html" title="What a scripting manager should look like. ">Mezzanine::Scripting::iScriptingManager</a></li>
<li><a class="el" href="classMezzanine_1_1Scripting_1_1iScriptWorkUnit.html" title="The interface for a container of script that can be executed each frame. ">Mezzanine::Scripting::iScriptWorkUnit</a></li>
</ul>
<p><br/>
 <br/>
 SWIG ( <a href="http://swig.org">http://swig.org</a> ) is a tool that generates code in either C or the target language. It gets the information required to do this byreading the <a class="el" href="namespaceMezzanine.html" title="The bulk of the engine components go in this namspace. ">Mezzanine</a> source code directly. It support a variety of languages but is currently</p>
<p>Whether or not the is updated each build can be controlled by the Mezz_SWIG CMake Flag. When this flag is enabled a SWIG_Mezzanine build target is added to the project. To satisfy build systems this target/project compiles <a class="el" href="blank_8cpp_source.html">src/blank.cpp</a> as the only files. During the build steps in that target it attempt to Swig from the command line. <br/>
 <br/>
 This can be run manually by invoking that target specifically. For example: </p>
<div class="fragment"><div class="line">$ make SWIG_Mezzanine</div>
<div class="line">$ ninja SWIG_Mezzanine</div>
</div><!-- fragment --> <h1><a class="anchor" id="CppApiToLua"></a>
How the C++ API converts to Lua</h1>
<p>The Documentation for the C++ API is also the canonical documentation for the Lua scripting system. The are some differences those that are not and these detailed on the functions that are different are generalized here. </p>
<h2><a class="anchor" id="CApiLuaNamepacesBecomeModules"></a>
Lua Modules are Related to Namespaces</h2>
<p>Major namespaces become modules in Lua. You can check on the Lua51ScriptingEngine if there is a function for loading a specific namespace. For example if you want a script to use classes and functions in the <a class="el" href="namespaceMezzanine_1_1Threading.html" title="This is where game specific threading algorithms and a minimalistic subset of the std threading libra...">Mezzanine::Threading</a> namespace then you will need to load either the safe or the unlimited threading libraries in Lua. This can be done either by passing the right flags to the constructor of the Lua51ScriptingEngine or by calling Lua51ScriptingEngine::OpenMezzanineThreadingLibrary() or Lua51ScriptingEngine::OpenMezzanineThreadingSafeLibrary() . Each Module in Lua stores all of its members in a table of the module's name, and a reference to the table is stored in the <a class="el" href="namespaceMezzanine.html" title="The bulk of the engine components go in this namspace. ">Mezzanine</a> table. This is preferred way to call Lua functionality from modules, and calling the table directly may be removed in the future. Here is an example of using a class in the Threading and another in the root namespace: </p>
<div class="fragment"><div class="line">bar = MezzanineSafe.Threading.Barrier(4)</div>
<div class="line">vec = MezzanineSafe.Vector3(1,1,1)</div>
</div><!-- fragment --><p> <br/>
 <br/>
 </p>
<h2><a class="anchor" id="CApiLuaNamespacesFlattened"></a>
Other Namespaces Are Flattened</h2>
<p>Namespaces are flattened into the Lua module they are included n: C++ code: </p>
<div class="fragment"><div class="line"><a class="code" href="classMezzanine_1_1Vector3.html" title="This is used to represent a point in space, or a vector through space. ">Mezzanine::Vector3</a> Vec = <a class="code" href="namespaceMezzanine_1_1StringTools.html#a406345c88068aeae0bf081d9718a2ffe" title="Convert three numbers in a string into a Vector3. ">Mezzanine::StringTools::ConvertToVector3</a>(<span class="stringliteral">&quot;3 4 6&quot;</span>)</div>
</div><!-- fragment --><p> <br/>
 <br/>
 Lua Code: </p>
<div class="fragment"><div class="line">Vec=MezzanineSafe.ConvertToVector3(<span class="stringliteral">&quot;3 4 6&quot;</span>)</div>
</div><!-- fragment --><p> <br/>
 <br/>
 </p>
<h2><a class="anchor" id="CApiLuaEnumsFlattened"></a>
Enums Are Flattened</h2>
<p>In C++ enumerations might hold values useful in the scope of class. For example the <a class="el" href="classMezzanine_1_1Exception.html" title="This is the exception thrown by most Mezzanine system that can throw exceptions. ">Mezzanine::Exception</a> holds ExceptionCodes that are useful categorizing types of errors. Because each C++ class is represented in Lua as a function that returns a class instance, the syntax "MezzanineSafe.Exception.IO_EXCEPTION" could not work. Enums that are part of a class are instead defined in the same table as the class function and have the class name concatenated to theirs. <br/>
 This is different than enums A few example can explain better: C++ code: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> x = <a class="code" href="classMezzanine_1_1Exception.html#a4ee7e60ac53783c4975240c57071d420adbce825510a297fc244e97d65a84760b" title="When used a instance of IOException is thrown. Thrown when there was an issue with IO but very little...">Mezzanine::Exception::IO_EXCEPTION</a> <span class="comment">// An enum value on a class</span></div>
<div class="line"><span class="keywordtype">int</span> y = <a class="code" href="namespaceMezzanine_1_1Threading.html#a1a21883adf1ed757a3926c29a5486a8eabbce5705b2c11ab3749cd3081e760233" title="Task is not yet started this frame, this can change without notice. ">Mezzanine::Threading::NotStarted</a> <span class="comment">// An enum value in the Threading namespace</span></div>
</div><!-- fragment --><p> <br/>
 <br/>
 Lua Code: </p>
<div class="fragment"><div class="line">x = MezzanineSafe.Exception_IO_EXCEPTION -- flattened to the MezzanineSafe Table/Module</div>
<div class="line">y = MezzanineSafe.Threading.NotStarted -- In the Threading table/Module</div>
</div><!-- fragment --><p> <br/>
 <br/>
</p>
<p>Need to say something about modules in lua datatypes, singleton, vector3, quaternion, and the proxies are likely to be duplicate in multiple places </p>
</div></div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 19 2014 15:37:50 for MezzanineEngine by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4</small></address>
</body>
</html>

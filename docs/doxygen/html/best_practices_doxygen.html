<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <title>BTS - Best Practices – Doxygen</title>
    <link href="DoxyStyle.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
</head>
<body onload=''>
<div id="top"><!-- do not remove this div! -->
    <div class="pagetitle">
        <a href="http://blacktoppstudios.com"><img src="logogreen100pxtall.png"/></a>
        BlackTopp Studios<div class='smaller'> inc</div>
        <span id="projectnumber"></span>
    </div>
</div>
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main</span></a></li>
      <li class="current"><a href="pages.html"><span>All&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Best Practices – Doxygen </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Doxygen is a tool for extracting API documentation from source code. Doxygen reads source code the same way a C, C++ or Java compiler would, but can also read special comments to include extra information. This page is about making the most of doxygen by entering high quality information. If you want to learn how to run doxygen see the page on <a class="el" href="running_doxygen.html">Running Doxygen</a> or if you want to know how to install it see the appropriate page about our <a class="el" href="tech_doc_index.html#dev_tools_menu">Development Tools</a>.</p>
<h1><a class="anchor" id="best_practices_doxygen_visibility"></a>
D1 Improve Errors visibilty during builds</h1>
<p>Errors can't be fixed if you cannot see them. Try to use tools that will show you the errors that running the build process creates. When running doxygen you might redirect the errors to a file and review the file to assist in troubleshooting syntax errors in documentation. Here is a simple way to make "results.txt" from the warnings and errors doxygen emits:</p>
<pre class="fragment">$ doxygen doxygen.config 2&gt; results.txt
</pre><p>Another way to get good visibility is to read the doxygen logfile, but is needs to be set in the doygen configuration. Use the "WARN_LOGFILE" directive to set this. You can also set the "WARN_FORMAT" directive to something your IDE understands and get warnings your IDE understands. With Qt Creator and Code::Blocks this allows a developer to click on the warnings in the build results panel or windows and have an editor windows show them the offending file and line. Here is the configuration required to do that:</p>
<pre class="fragment">WARN_FORMAT            = "$file:$line: $text"
WARN_LOGFILE           = ../html/DoxygenWarnings.txt
</pre><h1><a class="anchor" id="best_practices_doxygen_minimum"></a>
D2 Minimum Amount to Document</h1>
<p>It is easy to document too much or too little. Too much and it will easily fall out of date when the code changes and developers ignore the wall of text. Too little and people using the code and documentation go WTF?! and use some other code or write from scratch.</p>
<p><br />
Here is what we do. We probably tend to go a little too heavily, but we are writing an API and we feel clarity is worth some maintanence cost.</p>
<h2><a class="anchor" id="best_practices_doxygen_minimum_function"></a>
Function/Methods Minimum Amount to Document</h2>
<p>Each function/method should get:</p>
<ul>
<li>@brief Every function and method should get one of these unless the @return or @param describe it so completely adding this would hurt. (leave @brief off the int GetX() method on 2D point class for example).</li>
<li>One @param for each parameter describing its type, accepted values and any default values.</li>
<li>@return Unless it returns void then the return tty and value shoud be documented.</li>
<li>@throw If an exception is thrown, its type and conditions for causing the throw should be noted.</li>
<li>@details or add @remarks Should be added anytime the function has special preconditions. Changes state on a class that is not obvious or is otherwise complex.</li>
</ul>
<p><br />
Here are some examples of Bad and Good doxygen comments on bad code. This code is terrible to highlight how much of a difference good and bad documentation can make. In a real situation it it likely that even good code with good variable names might still be complex enough to allow misconceptions in.</p>
<p><br />
Bad Dox: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> sqrt(<span class="keywordtype">int</span> x);</div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">/// @brief calculates absolute value</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">int</span> abs(<span class="keywordtype">int</span> x);</div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">/// @param Accepts a float.</span></div>
<div class="line"><span class="comment">/// @return Returns a float.</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">float</span> log(<span class="keywordtype">float</span> x)</div>
</div><!-- fragment --><p>Good Dox: </p><div class="fragment"><div class="line"><span class="comment">/// @param x An Integer to take the square root of</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// @return An int containing the square root of x. Any floating part is truncated</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">int</span> sqrt(<span class="keywordtype">int</span> x);</div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">/// @brief Calculates absolute value, the distance from zero</span></div>
<div class="line"><span class="comment">/// @param x An int that might be postive or negative.</span></div>
<div class="line"><span class="comment">/// @return A positive int (or 0) that is the same as x but with an minus sign removed.</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">int</span> abs(<span class="keywordtype">int</span> x);</div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">/// @brief Calculate the natural logorithm of a value.</span></div>
<div class="line"><span class="comment">/// @param x A float to calculate the log2 of.</span></div>
<div class="line"><span class="comment">/// @return Returns a floatX.</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">float</span> log(<span class="keywordtype">float</span> x)</div>
</div><!-- fragment --><h2><a class="anchor" id="best_practices_doxygen_minimum_enum"></a>
Enum Minimum Amount to Document</h2>
<p>Most enums just need an @brief and if the options are not self explanatory a using ///&lt; seems to be the easiest way to document them. You don't need @enum unless you are placing the dox far away from the enum. Here is an example:</p>
<p><br />
Bad Dox: </p><div class="fragment"><div class="line"><span class="comment">/// @enum dir A direction</span></div>
<div class="line"><span class="comment"></span><span class="keyword">enum</span> dir</div>
<div class="line">{</div>
<div class="line">    MN, MS, MW, ME,</div>
<div class="line">    N, W, S, E</div>
<div class="line">};</div>
</div><!-- fragment --><p>Good Dox: </p><div class="fragment"><div class="line"><span class="comment">/// @brief A Compass direction</span></div>
<div class="line"><span class="comment"></span><span class="keyword">enum</span> dir</div>
<div class="line">{</div>
<div class="line">    MN, <span class="comment">///&lt; Magnetic North</span></div>
<div class="line"><span class="comment"></span>    MS, <span class="comment">///&lt; Magnetic South</span></div>
<div class="line"><span class="comment"></span>    MW, <span class="comment">///&lt; Magnetic West</span></div>
<div class="line"><span class="comment"></span>    ME, <span class="comment">///&lt; Magnetic East</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line">    N, W, S, E</div>
<div class="line">};</div>
</div><!-- fragment --><p>Good Code and Dox: </p><div class="fragment"><div class="line"><span class="comment">/// @brief A Compass direction</span></div>
<div class="line"><span class="comment"></span><span class="keyword">enum</span> CompassDirection</div>
<div class="line">{</div>
<div class="line">    MagneticNorth,  <span class="comment">///&lt; Magnetic North</span></div>
<div class="line"><span class="comment"></span>    MagneticSouth,  <span class="comment">///&lt; Magnetic South</span></div>
<div class="line"><span class="comment"></span>    MagneticWest,   <span class="comment">///&lt; Magnetic West</span></div>
<div class="line"><span class="comment"></span>    MagneticEast,   <span class="comment">///&lt; Magnetic East</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line">    North,          <span class="comment">///&lt; Geographic North</span></div>
<div class="line"><span class="comment"></span>    South,          <span class="comment">///&lt; Geographic South</span></div>
<div class="line"><span class="comment"></span>    West,           <span class="comment">///&lt; Geographic West</span></div>
<div class="line"><span class="comment"></span>    East            <span class="comment">///&lt; Geographic East</span></div>
<div class="line"><span class="comment"></span>};</div>
</div><!-- fragment --><h2><a class="anchor" id="best_practices_doxygen_minimum_class"></a>
Class Minimum Amount to Document</h2>
<p>Most classes should have an @brief providing a simple overview, an @details providing additional rationle and perhaps a few examples in @code/@endcode or @verbatim/@endverbatim sections if their use is complicated. Use @code when you want systax highlighting and a monospace font, use @verbatim when you don't need syntax hightlighting. Since every method should be well named and well documented hopefully class documentation can be small.</p>
<p><br />
Try to document classes in the header file just ahead of the class keyword and @class will not be needed.</p>
<p><br />
Example: </p><div class="fragment"><div class="line"><span class="comment">/// @brief A 3x3 matrix intended for use in rotating 3d points.</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// @details This supports normal math operations via operator overloads and is contructable</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// to a unit matrix or accepts all 9 values in row major order:</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// @verbatim</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// Matrix UnitMatrix;</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// Matrix OtherMatrix(1,2,3,4,5,6,7,8,9);</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// Matrix Product = UnitMatrix * OtherMatrix;</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// @endverbatim</span></div>
<div class="line"><span class="comment"></span><span class="keyword">class </span>Matrix</div>
<div class="line">{</div>
<div class="line"><span class="comment">// Omitted</span></div>
</div><!-- fragment --><h2><a class="anchor" id="best_practices_doxygen_minimum_file"></a>
File Minimum Amount to Document</h2>
<p>All Files get an @file and an @brief describing a little more than the name of the file could desribe. This mostly provides a link in doxygen that might not otherwise have been generated. The @file command accepts a filename, leave it out. If specified doxygen will interpret that block as documentation for some other file which might not existor otherwise break when the file is renamed.</p>
<p><br />
Example in foo.h: </p><div class="fragment"><div class="line"><span class="comment">/// @file</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// @brief This defines the class foo intended for use with @ref bar.</span></div>
</div><!-- fragment --><h1><a class="anchor" id="best_practices_doxygen_copydoc"></a>
D3 @copydoc Should Follow inheritance</h1>
<p>The @copydoc directive should primarily be used by following up inheritance heiarchies. When used to in other ways it can creates logical dependencines in the documentation that do not match the code which increases future maintanence effort. Consider the follow inheritance tree of classes:</p>
<div align="center">
<iframe scrolling="no" frameborder="0" src="dot_inline_dotgraph_1.svg" width="282" height="251"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe><div class="caption">
Sample inheritance tree</div>
</div>
<p><br />
Because the Lizard and the Cat have little to do with each other in code they will change in different in the future. Even if they each have an int LegCount() const member function that return 4, they should not copy documentation from eachother. Someone updating the lizard to have 6 legs is unlikely to be concerned the Cat class.</p>
<p><br />
A more reasonable solution is to have Lizard copy documentation from Reptile and Cat from Mammal. This makes it easy for someone changing code and documentation to know what other documentation should be updated. Following a rule like this also implies that someone changing a class has some responsibility to verify the documentation in each derived class.</p>
<p><br />
Bad: </p><div class="fragment"><div class="line"><span class="comment">/// @brief All lizards have 4 legs.</span></div>
<div class="line"><span class="comment"></span><span class="comment">/// @return An integer of value 4</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">int</span> Lizard::LegCount() <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">/// @copydoc Lizard::LegCount() const</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">int</span> Cat::LegCount() <span class="keyword">const</span>;</div>
</div><!-- fragment --><p><br />
Good: </p><div class="fragment"><div class="line"><span class="comment">/// @return All Mammals have 4 limbs so this returns an integer of value 4.</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">int</span> Mammal::LegCount() <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">/// @copydoc Mammal::LegCount() const</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">int</span> Cat::LegCount() <span class="keyword">const</span>;</div>
</div><!-- fragment --><h1><a class="anchor" id="best_practices_doxygen_identifier"></a>
D4 Identifier Commands</h1>
<p>@enum, @typedef, @class, and other specifiers of things to be documented should be used when documenting things out of line. If the documentation comments precede what you are documenting then these can be omitted. This makes documentation shorter and easier to maintain.</p>
<p><br />
Some of our older and more stale dox have some of these dangling from when we did not know better.</p>
<h1><a class="anchor" id="best_practices_doxygen_ref"></a>
D5 References</h1>
<p>Use @ref often. Anytime you define a class, page, function, section or any other code or documentation structure you can refer to it with @ref. If you simple put @ref followed by the class, function, section or page name you will get a link with the text of the name text from the refferred item. If you want different text include link text in quotes. See some examples:</p>
<p>To make: <br />
<a class="el" href="classMezzanine_1_1Vector3.html">Mezzanine::Vector3</a> and <a class="el" href="best_practices_doxygen.html">Best Practices – Doxygen</a> <br />
Use: </p><div class="fragment"><div class="line">@ref <a class="code" href="classMezzanine_1_1Vector3.html">Mezzanine::Vector3</a> and @ref best_practices_doxygen</div>
</div><!-- fragment --><p><br />
To provide custom text like this: <br />
<a class="el" href="classMezzanine_1_1Vector3.html">X/Y/Z Thingy</a> and <a class="el" href="best_practices_doxygen.html">Lexicographer's hate him</a> <br />
Use: </p><div class="fragment"><div class="line">@ref <a class="code" href="classMezzanine_1_1Vector3.html">Mezzanine::Vector3</a> <span class="stringliteral">&quot;X/Y/Z Thingy&quot;</span> and</div>
<div class="line">@ref best_practices_doxygen <span class="stringliteral">&quot;Lexicographer&#39;s hate him&quot;</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
<hr class="footer"/>
    <address class="footer">
        <small>
            Generated on Sun Feb 7 2016 20:09:06 for BlackTopp Studios inc by
            <a href="http://www.doxygen.org/index.html">
                <img class="footer" src="doxygen.png" alt="doxygen"/>
            </a>
            1.8.9.1
        </small>
    </address>
</body>
</html>
